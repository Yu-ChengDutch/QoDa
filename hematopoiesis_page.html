<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="style.css" />

</head>
<body>

    <div class="card" id="testCard">
    </div>

    <script>
        console.log("Accessing JS")

        card = document.getElementById('testCard');

        fetch('./hematopoiesis.json')
            .then(function (response) {
                console.log("File found and accessed")
                return response.json();
            })
            .then(function (data) {
                console.log(data)

                console.log(data["Subsequent cells"][0])

                let html_insert = "<h4>" + data["Name"] + "<h4>";

                card.innerHTML += html_insert;

                card.addEventListener("click", addCards(data["Subsequent cells"]))
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });

        function addCards(listOfThings) {
            for (thing in listOfThings) {
                console.log(thing)
                console.log(thing["Name"]);
                var div = document.createElement('div');
                var name = thing["Name"];

                div.innerHTML = `
                    <div class="card>">
                        <h4>${name}</h4>
                    </div>
                `;

                document.body.insertBefore(div, document.body.childNodes[0])
            }
        }

    </script>
</body>
</html>